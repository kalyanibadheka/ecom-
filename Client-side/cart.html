<!DOCTYPE html>
<html>
   <head>
      <!-- Basic -->
      <meta charset="utf-8" />
      <meta http-equiv="X-UA-Compatible" content="IE=edge" />
      <!-- Mobile Metas -->
      <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
      <!-- Site Metas -->
      <meta name="keywords" content="" />
      <meta name="description" content="" />
      <meta name="author" content="" />
      <link rel="shortcut icon" href="images/favicon.png" type="">
      <title>Famms - Fashion HTML Template</title>
      <!-- bootstrap core css -->
      <link rel="stylesheet" type="text/css" href="css/bootstrap.css" />
      <!-- font awesome style -->
      <!-- <link href="css/font-awesome.min.css" rel="stylesheet" /> -->
      <link rel="stylesheet" href="css/all.min.css">
      <!-- Custom styles for this template -->
      <link href="css/style.css" rel="stylesheet" />
      <!-- responsive style -->
      <link href="css/responsive.css" rel="stylesheet" />
   </head>
   <body class="sub_page">
      <div class="hero_area">
         <!-- header section strats -->
         <header class="header_section">
            <div class="container">
               <nav class="navbar navbar-expand-lg custom_nav-container ">
                  <a class="navbar-brand" href="index.html"><img width="250" src="images/logo.png" alt="#" /></a>
                  <button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                  <span class=""> </span>
                  </button>
                  <div class="collapse navbar-collapse" id="navbarSupportedContent">
                     <ul class="navbar-nav">
                        <li class="nav-item">
                           <a class="nav-link" href="index.html">Home <span class="sr-only">(current)</span></a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link" href="product.html">Products</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link" href="blog_list.html">Blog</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link" href="contact.html">Contact</a>
                        </li>
                        <li class="nav-item">
                           <a class="nav-link" href="pages/login.html">
                            <i class="fas fa-sign-in-alt"></i> Login
                           </a>
                        </li>
                        <li class="nav-item active">
                           <a class="nav-link" href="cart.html">
                              <i class="fa fa-shopping-cart" aria-hidden="true"></i>
                           </a>
                        </li>
                        <form class="form-inline">
                           <button class="btn  my-2 my-sm-0 nav_search-btn" type="submit">
                           <i class="fa fa-search" aria-hidden="true"></i>
                           </button>
                        </form>
                     </ul>
                  </div>
               </nav>
            </div>
         </header>
         <!-- end header section -->
      </div>
      <!-- inner page section -->
      <!-- Cart -->
      <section class="mt-5 mb-5 container">
        <dic class="">
            <div class="row justify-content-between">
                <div class="col-7" id="cart">
                    <table class="table table-bordered text-center" style="vertical-align: middle"><tr><th>#</th><th>Image</th><th>Detail</th><th>Quantity</th><th>Operation</th></tr><tr><td>1</td><td><img src="imgs/" style="height :120px" class="img-fluid"></td><td><p>Name : </p><p>Price : </p></td><td><button class="btn btn-warning btn-sm rounded-circle "><i class="fas fa-minus" style="cursor:pointer"></i></button><input type="text" style="width:40px; text-align:center" class="me-2 ms-2" value="1" disabled><button class="btn btn-warning btn-sm rounded-circle " ><i class="fas fa-plus" style="cursor:pointer"></i></button></td><td><button ><i class="fas fa-trash-alt"></i></button></td></tr></table>
                </div>
                <div class="col-4 text-center">
                    <div class="card">
                        <div class="card-header">
                            <h3>TOTAL</h3>
                        </div>
                        <div class="card-body">
                            <p class="fw-semibold fs-5">RS. <span id="ttl"></span></p>
                        </div>
                        <div class="card-footer bg-dark">
                            <a href="" onclick="order()" style="color: white; font-weight:600;">CHECKOUT</a>
                        </div>
                    </div>
                </div>
            </div>
        </dic>
      </section>
      <!-- end inner page section -->
    <!-- footer section -->
    <footer class="footer_section">
        <div class="container">
            <div class="row">
                <div class="col-md-4 footer-col">
                    <div class="footer_contact">
                        <h4>
                            Reach at..
                        </h4>
                        <div class="contact_link_box">
                            <a href="">
                                <i class="fa fa-map-marker" aria-hidden="true"></i>
                                <span>
                                    Location
                                </span>
                            </a>
                            <a href="">
                                <i class="fa fa-phone" aria-hidden="true"></i>
                                <span>
                                    Call +01 1234567890
                                </span>
                            </a>
                            <a href="">
                                <i class="fa fa-envelope" aria-hidden="true"></i>
                                <span>
                                    demo@gmail.com
                                </span>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 footer-col">
                    <div class="footer_detail">
                        <a href="index.html" class="footer-logo">
                            Famms
                        </a>
                        <p>
                            Necessary, making this the first
                            true generator on the Internet.
                            It uses a dictionary of over 200
                            Latin words, combined with
                        </p>
                        <div class="footer_social">
                            <a href="">
                                <i class="fa fa-facebook" aria-hidden="true"></i>
                            </a>
                            <a href="">
                                <i class="fa fa-twitter" aria-hidden="true"></i>
                            </a>
                            <a href="">
                                <i class="fa fa-linkedin" aria-hidden="true"></i>
                            </a>
                            <a href="">
                                <i class="fa fa-instagram" aria-hidden="true"></i>
                            </a>
                            <a href="">
                                <i class="fa fa-pinterest" aria-hidden="true"></i>
                            </a>
                        </div>
                    </div>
                </div>
                <div class="col-md-4 footer-col">
                    <div class="map_container">
                        <div class="map">
                            <div id="googleMap"></div>
                        </div>
                    </div>
                </div>
            </div>
            <div class="footer-info">
                <div class="col-lg-7 mx-auto px-0">
                    <p>
                        &copy; <span id="displayYear"></span>
                        All Rights Reserved By
                        <a href="https://html.design/">Free
                            Html Templates</a>
                    </p>
                </div>
            </div>
        </div>
    </footer>
    <!-- footer section -->
    <!-- jQery -->
    <script src="js/jquery-3.4.1.min.js"></script>
    <!-- popper js -->
    <script src="js/popper.min.js"></script>
    <!-- bootstrap js -->
    <script src="js/bootstrap.js"></script>
    <!-- custom js -->
    <script src="js/custom.js"></script>
    <script src="js/all.min.js"></script>

    <script type="text/javascript">
        let uid = parseInt(location.search.replace('?uid=',''));
        console.log(uid);
        function getCart(){
            let cartData = JSON.parse(localStorage.getItem("cart"));
            
            let text ='';
            text += '<table class="table table-bordered text-center" style="vertical-align: middle"><tr><th>#</th><th>Image</th><th>Detail</th><th>Quantity</th><th>Operation</th></tr>';
            cartData.map((l, i)=>{
                let j = i+1;
                text += '<tr><td>'+j+'</td><td><img src="imgs/'+l.photo+'" style="height :120px" class="img-fluid"></td><td><p id="nm">Name : '+l.name+'</p><p>Price : '+l.price+'</p></td><td><button class="btn btn-warning btn-sm rounded-circle "><i class="fas fa-minus" style="cursor:pointer"></i></button><input type="text" style="width:40px; text-align:center" class="me-2 ms-2" id="txtbox" value="1" disabled><button class="btn btn-warning btn-sm rounded-circle " onclick="plus('+l.price+''+ttl+')"><i class="fas fa-plus" style="cursor:pointer"></i></button></td><td><button onclick="cartDelete('+l.id+')"><i class="fas fa-trash-alt"></i></button></td></tr>'
            })
            text += '</table>'
            document.getElementById("cart").innerHTML=text;
        } 
        window.onload=getCart(),total();

        function total(){
            let cartData = JSON.parse(localStorage.getItem("cart"));

            let sum = cartData.reduce(function(accumulator,object){
                return accumulator + parseInt(object.price);
            },0);

            console.log(sum);
            
            document.getElementById("ttl").innerHTML=sum;
        }
        
        function cartDelete(id){
            let cartData = JSON.parse(localStorage.getItem("cart"));

            let fData = cartData.filter((l)=>l.id !== id);

            localStorage.setItem("cart", JSON.stringify(fData));

            location.reload();
        }

        function order(){

            let cartData = JSON.parse(localStorage.getItem("cart"));
            
            cartData.map((l)=>{
                let id = l.id;
        
                console.log(id);
            })

            let name = document.getElementById("nm");
            console.log(name);
            alert('Your order has been placed');
        }
        
        // function plus(price,txtbox){
        //     // let cartData = JSON.parse(localStorage.getItem("cart"));
        //     // let quant = document.getElementById("txtbox");
        //     // let proprice = document.getElementById("ttl");

        //     // console.log(quant);
        //     // quant.value = parseInt(quant.value) + 1
        // }
        // plus();
    </script>
</body>
</html>